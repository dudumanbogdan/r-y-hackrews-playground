(this["webpackJsonpr-y-hackernews"]=this["webpackJsonpr-y-hackernews"]||[]).push([[0],{72:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r),c=e(11),i=e.n(c),a=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,73)).then((function(n){var e=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,i=n.getTTFB;e(t),r(t),o(t),c(t),i(t)}))},s=e(14),u=e(12),d=e(13),h=e(28),l=e.n(h),S=Object({NODE_ENV:"production",PUBLIC_URL:"/r-y-hackrews-playground",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL||"http://localhost:3000/",p={"Content-Type":"application/json",Accept:"application/json"},b=new(function(){function t(n){var e=n.baseURL,r=void 0===e?S:e,o=n.timeout,c=void 0===o?2e4:o,i=n.headers,a=void 0===i?p:i,s=n.auth;Object(u.a)(this,t);var d=l.a.create({baseURL:r,timeout:c,headers:a,auth:s});d.interceptors.response.use(this.handleSuccess,this.handleError),this.client=d}return Object(d.a)(t,[{key:"handleSuccess",value:function(t){return t}},{key:"handleError",value:function(t){return Promise.reject(t)}},{key:"get",value:function(t){return this.client.get(t).then((function(t){return t.data}))}},{key:"post",value:function(t,n){return this.client.post(t,n).then((function(t){return t.data}))}},{key:"put",value:function(t,n){return this.client.put(t,n).then((function(t){return t.data}))}},{key:"patch",value:function(t,n){return this.client.patch(t,n).then((function(t){return t.data}))}},{key:"delete",value:function(t){return this.client.delete(t).then((function(t){return t.data}))}}]),t}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),f=".json?print=pretty",g={};g.getTopStoriesId=function(){return b.get("topstories".concat(f))},g.getStory=function(t){return b.get("item/".concat(t).concat(f))},g.getStoriesByPage=function(t,n){var e=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:n*t,end:(n+1)*t}}(20,n),r=function(t){var n=t.begin,e=t.end;return t.items.slice(n,e)}({begin:e.begin,end:e.end,items:t}).map((function(t){return g.getStory(t)}));return Promise.all(r)};var O,_,j,E,y,T,m,I,x,v,C,R=g,F="hackernews-playground/story",w={FETCH_STORY_IDS_REQUEST:"".concat(F,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(F,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(F,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_IDS_REQUEST:"".concat(F,"/FETCH_STORIES_IDS_REQUEST"),FETCH_STORIES_IDS_SUCCESS:"".concat(F,"/FETCH_STORIES_IDS_SUCCESS"),FETCH_STORIES_IDS_FAILURE:"".concat(F,"/FETCH_STORIES_IDS_FAILURE")},k=function(t,n){return{type:t,payload:n}},D={fetchStoryIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return n(k(w.FETCH_STORY_IDS_REQUEST,t)),R.getTopStoriesId().then((function(t){return n(k(w.FETCH_STORY_IDS_SUCCESS,{storyIds:t})),n(D.fetchStories({storyIds:t,page:0})),t})).catch((function(t){return n(k(w.FETCH_STORY_IDS_FAILURE,t))}))}},fetchStories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){n(k(w.FETCH_STORIES_IDS_REQUEST,t));var e=t.storyIds,r=t.page;return R.getStoriesByPage(e,r).then((function(t){return n(k(w.FETCH_STORIES_IDS_SUCCESS,{stories:t}))})).catch((function(t){return n(k(w.FETCH_STORIES_IDS_FAILURE,t))}))}}},U=D,H=e(39),L=e(38),P=e(2),Y={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"},A=e(3),Q=P.b.div(O||(O=Object(A.a)(["\n    margin-left: auto;\n    margin-right: auto;\n    height: 100%;\n    overflow: hidden;\n    width: 85%;\n    padding-bottom: 100px;\n\n    "," {\n        width: 96%;\n    }\n"])),"@media only screen and (max-width: 768px)"),M=P.b.h1(_||(_=Object(A.a)(["\n    color: ",";\n    font-size: 20px;\n    font-weight: 300;\n    margin-top: 24px;\n    margin-bottom: 24px;\n"])),(function(t){return t.theme.textSecondary})),z=e(5),B=P.b.li(j||(j=Object(A.a)(["\nbox-sizing: border-box;\n    border-bottom: 1px solid ",";\n    list-style: none;\n    padding: 14px 24px;\n\n    &:last-child {\n        border-bottom: none;\n    }\n"])),(function(t){return t.theme.border})),N=P.b.h3(E||(E=Object(A.a)(["\n    color: ",";\n    margin-top: 0px;\n    margin-bottom: 4px;\n    font-weight: 400;\n    font-size: 16px;\n    letter-spacing: 0.4px;\n    "])),(function(t){return t.theme.text})),K=P.b.span(y||(y=Object(A.a)(["\n    color: ",";\n\n    "])),(function(t){return t.theme.textSecondary})),W=P.b.a(T||(T=Object(A.a)(["\n    color: ",";\n    text-decoration: none;\n    "])),(function(t){return t.theme.text})),J=P.b.div(m||(m=Object(A.a)(["\nfont-size: 14px;\ncolor: ",";\n    "])),(function(t){return t.theme.textSecondary})),V=P.b.a(I||(I=Object(A.a)(["\ncolor: ",";\n&:visited {\ncolor: ",";\n}\n    "])),(function(t){return t.theme.textSecondary}),(function(t){return t.theme.textSecondary})),X=e(32),q=e.n(X),G=function(t){var n="";return t&&(t.includes("//")||(t="http://".concat(t)),n=q.a.parse(t).hostname),n.includes("www.")&&(n=n.split("www.")[1]),n},Z="https://news.ycombinator.com",$="".concat(Z,"/item?id="),tt="".concat(Z,"/user?id="),nt=function(t){var n=t.url,e=t.id,r="".concat($).concat(e);return n||r},et=e(37),rt=e(1),ot=function(t){var n=t.by,e=t.kids,r=void 0===e?[]:e,o=t.score,c=t.url,i=t.title,a=t.id,s=(t.type,t.time),u=G(c)||"new.ycombinator.com",d=nt({url:c,id:a}),h="".concat($).concat(a),l="".concat(tt).concat(n);return Object(rt.jsxs)(B,{children:[Object(rt.jsx)(W,{href:d,rel:"noopener noreferrer nofollow",target:"_blank",children:Object(rt.jsxs)(N,{children:[i," ",Object(rt.jsxs)(K,{children:["(",u,")"]})]})}),Object(rt.jsxs)(J,{children:[o," points by "," ",Object(rt.jsx)(V,{href:l,rel:"'noopener",target:"_blank",children:n})," ",et.a(new Date(1e3*s).toISOString())," "," | ",Object(rt.jsxs)(V,{href:h,rel:"'noopener",target:"_blank",children:[r.length," comments"]})," "]})]})},ct=P.b.ul(x||(x=Object(A.a)(["\n    background-color: ",";\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 20px;\n    display: flex;\n    flex-direction: column;\n    border-radius: 4px;\n    padding: 0;\n"])),(function(t){return t.theme.backgroundSecondary})),it=function(t){var n=t.stories;return Object(rt.jsx)(ct,{children:n.map((function(t){return Object(rt.jsx)(ot,Object(z.a)({},t),t.id)}))})},at=Object(P.c)(v||(v=Object(A.a)(["\n    0% {\n        opacity: 0.2;\n    }\n    20% {\n        opacity: 1;\n    }\n    100% {\n        opacity: 0.2;\n    }\n"]))),st=P.b.div(C||(C=Object(A.a)(["\ntext-align: center;\n\nspan {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n    animation-name: ",";\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-fill-mode: both;\n}\n\n  span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n  span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n"])),(function(t){return t.theme.textSecondary}),at),ut=function(){return Object(rt.jsxs)(st,{children:[Object(rt.jsx)("span",{children:"."}),Object(rt.jsx)("span",{children:"."}),Object(rt.jsx)("span",{children:"."})]})},dt=e(33),ht=function(t){Object(H.a)(e,t);var n=Object(L.a)(e);function e(){var t;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))).fetchStories=function(){var n=t.props,e=n.storyIds,r=n.page,o=n.fetchStories;n.isFetching||o({storyIds:e,page:r})},t}return Object(d.a)(e,[{key:"componentDidMount",value:function(){document.body.style="background-color: ".concat(Y.background,";"),this.props.fetchStoriesFirstPage()}},{key:"render",value:function(){var t=this.props,n=t.stories,e=t.hasMoreStories;return Object(rt.jsx)(P.a,{theme:Y,children:Object(rt.jsx)("div",{children:Object(rt.jsxs)(Q,{children:[Object(rt.jsx)(M,{children:"Hacker news reader - playground"}),Object(rt.jsx)(dt.a,{dataLength:n.length,next:this.fetchStories,hasMore:e,loader:Object(rt.jsx)(ut,{}),style:{height:"100%",overflow:"visible"},children:Object(rt.jsx)(it,{stories:n})})]})})})}}]),e}(r.Component),lt=e(34),St=Object(lt.a)((function(t){return t.story.storyIds}),(function(t){return t.story.stories}),(function(t,n){return t.length>n.length})),pt=Object(s.b)((function(t){return{stories:t.story.stories,page:t.story.page,storyIds:t.story.storyIds,isFetching:t.story.isFetching,hasMoreStories:St(t)}}),(function(t){return{fetchStories:function(n){var e=n.storyIds,r=n.page;return t(U.fetchStories({storyIds:e,page:r}))},fetchStoriesFirstPage:function(){return t(U.fetchStoryIds())}}}))(ht),bt=e(6),ft="".concat("hackernews-playground/app","/SET_THEME"),gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"dark"},n=arguments.length>1?arguments[1]:void 0,e=n.type,r=n.payload;switch(e){case ft:return Object(z.a)(Object(z.a)({},t),r);default:return t}},Ot=e(16),_t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},n=arguments.length>1?arguments[1]:void 0,e=n.type,r=n.payload;switch(e){case w.FETCH_STORY_IDS_REQUEST:case w.FETCH_STORIES_IDS_REQUEST:return Object(z.a)(Object(z.a)({},t),{},{isFetching:!0});case w.FETCH_STORY_IDS_SUCCESS:return Object(z.a)(Object(z.a)({},t),r);case w.FETCH_STORIES_IDS_SUCCESS:return Object(z.a)(Object(z.a)({},t),{},{stories:[].concat(Object(Ot.a)(t.stories),Object(Ot.a)(r.stories)),page:t.page+1,isFetching:!1});default:return t}},jt=Object(bt.b)({app:gt,story:_t}),Et=e(35),yt=e(36),Tt=[];Tt.push(Et.a),Tt.push(Object(yt.createLogger)());var mt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||bt.c)(bt.a.apply(void 0,Tt)),It=function(t){return Object(bt.d)(jt,t,mt)};R.getTopStoriesId().then((function(t){return console.log(t)}));!function(){var t=It({});t.dispatch({type:"".concat("hackernews-playground/app","/init")}),i.a.render(Object(rt.jsx)(o.a.StrictMode,{children:Object(rt.jsx)(s.a,{store:t,children:Object(rt.jsx)(pt,{})})}),document.getElementById("root"))}(),a()}},[[72,1,2]]]);
//# sourceMappingURL=main.6d7ee426.chunk.js.map